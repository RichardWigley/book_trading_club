<% content_for :title, 'Want' %>
<h1 class='headings--compressed'>Want</h1>

<%= render 'books/search', { path: wants_path } %>

<section class='layout__site__content list  u-margin-bottom'>
  <div class='list__card  list__card--primary-light'>
    <div class="grid grid--gutters">
      <div class="grid__cell">
        Title
      </div>
      <div class="grid__cell">
        Author
      </div>
    </div>
    <% @books_search.each do |book|  %>
      <%= link_to new_book_want_path(book) do %>
        <div class="grid grid--gutters">
          <div class="grid__cell">
            <%= book.title %>
          </div>
          <div class="grid__cell">
            <%= book.author %>
          </div>
        </div>
      <% end %>
    <% end %>
    <% if @books_search.empty? %>
      <% if params[:search] %>
        <p>There are no books containing the term(s) "<%= params[:search] %>". Enter another search.</p>
      <% else %>
        <p>Enter a search and the results appear here</p>
      <% end %>
    <% end %>
  </div>
</section>

<section class='layout__site__content list'>
  <h2 class='headings--compressed'>Wanted</h1>
  <div class='list__card  list__card--primary-light'>
    <div class="grid grid--gutters">
      <div class="grid__cell">
        Title
      </div>
      <div class="grid__cell">
        Author
      </div>
    </div>
    <% @wants_outstanding.each do |want|  %>
      <%= link_to offer_path(want) do %>
        <div class="grid grid--gutters">
          <div class="grid__cell">
            <%= want.book.title %>
          </div>
          <div class="grid__cell">
            <%= want.book.author %>
          </div>
        </div>
      <% end %>
    <% end %>
    <% if @wants_outstanding.empty? %>
     <p>Books you have already wanted will appear here.</p>
    <% end %>
  </div>
</section>
